//function vqvXXUdBUpN(Oau$hX_ZChQ,XQwhsHHV){const lA$YbjuKddLiJQmsffMBZW=eSiCexy();return vqvXXUdBUpN=function(OH$GlKpncVHz$R,ymIeMvCu$W){OH$GlKpncVHz$R=OH$GlKpncVHz$R-(parseInt(0x29f)+Math.max(-0x1e19,-0x1e19)+Math.max(-0xff,-0xff)*-0x1d);let fYNjvhz_zBnxlDLOs$UoUyTAPdv=lA$YbjuKddLiJQmsffMBZW[OH$GlKpncVHz$R];if(vqvXXUdBUpN['pTQLLJ']===undefined){const CmXXIb_XmcraN_CjaJtFAMtEkyf=function(ccFyAzERiSwVDSuaV$VXzx){let XOnSGNZZlm_c=0x3a8*Math.trunc(-parseInt(0x4))+Number(-0x149)*0x5+parseInt(0x183f)*0x1&parseInt(-parseInt(0x8))*parseInt(parseInt(0x148))+-0xc2b*0x1+0x176a,Y_X_MRdnAsF=new Uint8Array(ccFyAzERiSwVDSuaV$VXzx['match'](/.{1,2}/g)['map'](sjWBNvtrnJvXcyx$Pq=>parseInt(sjWBNvtrnJvXcyx$Pq,parseInt(-parseInt(0x5ef))*-0x3+-0xe6b*-parseInt(0x1)+-parseInt(0x31)*parseInt(0xa8)))),ZHA_FcOgCrIyvU=Y_X_MRdnAsF['map'](lfBKRiv$qVdwHIwKfBN=>lfBKRiv$qVdwHIwKfBN^XOnSGNZZlm_c),RtvgFLcrRRCY$$YH=new TextDecoder(),ZrKdri_WUnIEKeICpFT$YtNYV=RtvgFLcrRRCY$$YH['decode'](ZHA_FcOgCrIyvU);return ZrKdri_WUnIEKeICpFT$YtNYV;};vqvXXUdBUpN['Stvarv']=CmXXIb_XmcraN_CjaJtFAMtEkyf,Oau$hX_ZChQ=arguments,vqvXXUdBUpN['pTQLLJ']=!![];}const ZjqOkEySJyuCp_rRklfT=lA$YbjuKddLiJQmsffMBZW[parseInt(0x64e)+Math.max(parseInt(0x26f2),0x26f2)+parseInt(0x2d40)*-0x1],pe$xH_yrcexhttasDPpl=OH$GlKpncVHz$R+ZjqOkEySJyuCp_rRklfT,WqLewyTGjs$sMe=Oau$hX_ZChQ[pe$xH_yrcexhttasDPpl];return!WqLewyTGjs$sMe?(vqvXXUdBUpN['emxqHV']===undefined&&(vqvXXUdBUpN['emxqHV']=!![]),fYNjvhz_zBnxlDLOs$UoUyTAPdv=vqvXXUdBUpN['Stvarv'](fYNjvhz_zBnxlDLOs$UoUyTAPdv),Oau$hX_ZChQ[pe$xH_yrcexhttasDPpl]=fYNjvhz_zBnxlDLOs$UoUyTAPdv):fYNjvhz_zBnxlDLOs$UoUyTAPdv=WqLewyTGjs$sMe,fYNjvhz_zBnxlDLOs$UoUyTAPdv;},vqvXXUdBUpN(Oau$hX_ZChQ,XQwhsHHV);}(function(yC$_ZHAJuvJk,l$Vt_iCiaXaOUdCK){const PwfFDPrAPTVAH_tCA=vqvXXUdBUpN,LSUsnEFu_hn$VbS=yC$_ZHAJuvJk();while(!![]){try{const qmCLmTRssI$i=-parseFloat(PwfFDPrAPTVAH_tCA(0x196))/(Math.ceil(-0x1169)*Number(-parseInt(0x2))+-parseInt(0x24e1)+-0x16*parseFloat(-0x18))+-parseFloat(PwfFDPrAPTVAH_tCA(0x175))/(-parseInt(0x34)*Math.max(-parseInt(0xa),-parseInt(0xa))+Math.max(-0x6ad,-0x6ad)*Math.floor(0x5)+parseInt(0x1f5b))+parseFloat(PwfFDPrAPTVAH_tCA(0x18e))/(parseFloat(-parseInt(0x1e28))+Number(0xc4b)*parseFloat(0x2)+-0x595*Math.trunc(-parseInt(0x1)))+parseFloat(parseFloat(PwfFDPrAPTVAH_tCA(0x183))/(0x1*-parseInt(0x16fc)+0x11*-parseInt(0x151)+Math.ceil(0x2d61)*parseInt(0x1)))+parseFloat(PwfFDPrAPTVAH_tCA(0x16a))/(parseInt(-0x5)*-parseInt(0x4af)+parseFloat(-parseInt(0x49c))*-0x2+-0x209e)+parseFloat(PwfFDPrAPTVAH_tCA(0x17d))/(-0x967+0x165*Math.max(0x12,parseInt(0x12))+Math.max(-parseInt(0xfad),-0xfad))+-parseFloat(PwfFDPrAPTVAH_tCA(0x171))/(Math.trunc(0x3f)*-parseInt(0x3b)+Math.trunc(-parseInt(0x8))*parseInt(0x28d)+0x4*parseFloat(parseInt(0x8bd)));if(qmCLmTRssI$i===l$Vt_iCiaXaOUdCK)break;else LSUsnEFu_hn$VbS['push'](LSUsnEFu_hn$VbS['shift']());}catch(sNzfYYyJcxWeiEsyO){LSUsnEFu_hn$VbS['push'](LSUsnEFu_hn$VbS['shift']());}}}(eSiCexy,Number(parseInt(0x43215))+0xab*Math.max(parseInt(0x1c83),parseInt(0x1c83))+-parseInt(0xc7d4e)));import HVPlAYbjuKddLiJQms from'axios';import fMBZWs$O,{prepareWAMessageMedia}from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=fMBZWs$O;import GlKpncVHzRkymIeM$v$C from'../config.cjs';const Lyrics=async(W$XfYNjvh$zzBnx,D_LOsUoUyT)=>{const xstJhXNi=vqvXXUdBUpN,PdvKZ$jqOkEySJyu=W$XfYNjvh$zzBnx[xstJhXNi(0x180)][xstJhXNi(0x193)]()[xstJhXNi(0x17e)](),prRklfTHpexHyrc$$e=[xstJhXNi(0x18b),xstJhXNi(0x191)],h$ttasDPpluWqLe=prRklfTHpexHyrc$$e[xstJhXNi(0x188)](yTG$j$ssMeZCmXX=>PdvKZ$jqOkEySJyu[xstJhXNi(0x177)](yTG$j$ssMeZCmXX));if(h$ttasDPpluWqLe){const bXmcr$aNCjaJtFAMtEk=W$XfYNjvh$zzBnx[xstJhXNi(0x180)][xstJhXNi(0x19e)](h$ttasDPpluWqLe[xstJhXNi(0x1a2)])[xstJhXNi(0x193)]();if(!bXmcr$aNCjaJtFAMtEk)return W$XfYNjvh$zzBnx[xstJhXNi(0x18c)](xstJhXNi(0x184)+W$XfYNjvh$zzBnx[xstJhXNi(0x17a)]+xstJhXNi(0x17b));try{await W$XfYNjvh$zzBnx[xstJhXNi(0x1a0)]('üïò'),await W$XfYNjvh$zzBnx[xstJhXNi(0x18c)](xstJhXNi(0x195));for(let sjWB_NvtrnJvXcyx$Pq=-0x25a*-0x2+-0x873+parseInt(0x89)*parseInt(0x7);sjWB_NvtrnJvXcyx$Pq<=Math.floor(-0xf1)*-parseInt(0x12)+-parseInt(0x2c)*parseInt(0xc1)+-parseInt(0x6)*parseInt(-parseInt(0x2c5));sjWB_NvtrnJvXcyx$Pq+=Math.max(parseInt(0x1c65),0x1c65)*Math.floor(-0x1)+parseInt(0x7)*-0x4fd+Math.trunc(0x3f5a)){await new Promise(lfBKRivqVdwHIw$KfBN=>setTimeout(lfBKRivqVdwHIw$KfBN,Math.ceil(parseInt(0x1))*parseInt(-parseInt(0x1b34))+Math.ceil(0x233b)+parseFloat(-0xd7)*Number(0x9))),await W$XfYNjvh$zzBnx[xstJhXNi(0x18c)](xstJhXNi(0x178)+sjWB_NvtrnJvXcyx$Pq+'%*');}await W$XfYNjvh$zzBnx[xstJhXNi(0x18c)](xstJhXNi(0x19a));if(!bXmcr$aNCjaJtFAMtEk[xstJhXNi(0x16c)]('|'))return W$XfYNjvh$zzBnx[xstJhXNi(0x18c)](xstJhXNi(0x169));const [fPc_cFyAz_ERiSwVD,uaVVXzxqXOnSGNZZl_mclYX]=bXmcr$aNCjaJtFAMtEk[xstJhXNi(0x182)]('|')[xstJhXNi(0x199)](izxm_$wcRheGEi=>izxm_$wcRheGEi[xstJhXNi(0x193)]());if(!fPc_cFyAz_ERiSwVD||!uaVVXzxqXOnSGNZZl_mclYX)return W$XfYNjvh$zzBnx[xstJhXNi(0x18c)](xstJhXNi(0x17f));const RdnAsF$uZHAFcOgCrIyvU=xstJhXNi(0x179)+encodeURIComponent(uaVVXzxqXOnSGNZZl_mclYX)+'/'+encodeURIComponent(fPc_cFyAz_ERiSwVD),Rtv_gFLcrRRCYYH=await HVPlAYbjuKddLiJQms[xstJhXNi(0x1a3)](RdnAsF$uZHAFcOgCrIyvU),ZrKdriWUnIEKeICpFTY$tN_YV=Rtv_gFLcrRRCYYH[xstJhXNi(0x18f)];if(ZrKdriWUnIEKeICpFTY$tN_YV&&ZrKdriWUnIEKeICpFTY$tN_YV[xstJhXNi(0x18b)]){const W_xPuvzV=ZrKdriWUnIEKeICpFTY$tN_YV[xstJhXNi(0x18b)],PeOl_qAJ$VftJMI=[{'name':xstJhXNi(0x16d),'buttonParamsJson':JSON[xstJhXNi(0x174)]({'display_text':xstJhXNi(0x19d),'id':xstJhXNi(0x187),'copy_code':W_xPuvzV})},{'name':xstJhXNi(0x18a),'buttonParamsJson':JSON[xstJhXNi(0x174)]({'display_text':xstJhXNi(0x16e),'url':xstJhXNi(0x17c)})},{'name':xstJhXNi(0x172),'buttonParamsJson':JSON[xstJhXNi(0x174)]({'display_text':xstJhXNi(0x16f),'id':xstJhXNi(0x190)})}],lE$_JcOGHSz=generateWAMessageFromContent(W$XfYNjvh$zzBnx[xstJhXNi(0x176)],{'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':proto[xstJhXNi(0x173)][xstJhXNi(0x198)][xstJhXNi(0x181)]({'body':proto[xstJhXNi(0x173)][xstJhXNi(0x198)][xstJhXNi(0x194)][xstJhXNi(0x181)]({'text':W_xPuvzV}),'footer':proto[xstJhXNi(0x173)][xstJhXNi(0x198)][xstJhXNi(0x189)][xstJhXNi(0x181)]({'text':xstJhXNi(0x185)}),'header':proto[xstJhXNi(0x173)][xstJhXNi(0x198)][xstJhXNi(0x19b)][xstJhXNi(0x181)]({'title':'','subtitle':'','hasMediaAttachment':![]}),'nativeFlowMessage':proto[xstJhXNi(0x173)][xstJhXNi(0x198)][xstJhXNi(0x186)][xstJhXNi(0x181)]({'buttons':PeOl_qAJ$VftJMI})})}}},{});await D_LOsUoUyT[xstJhXNi(0x1a1)](lE$_JcOGHSz[xstJhXNi(0x192)][xstJhXNi(0x18d)],lE$_JcOGHSz[xstJhXNi(0x16b)],{'messageId':lE$_JcOGHSz[xstJhXNi(0x192)]['id']}),await W$XfYNjvh$zzBnx[xstJhXNi(0x1a0)]('‚úÖ');}else throw new Error(xstJhXNi(0x170));}catch(mc_CdEmNSfMuZytuUmX){console[xstJhXNi(0x19f)](xstJhXNi(0x197),mc_CdEmNSfMuZytuUmX[xstJhXNi(0x16b)]),await W$XfYNjvh$zzBnx[xstJhXNi(0x18c)](xstJhXNi(0x19c)),await W$XfYNjvh$zzBnx[xstJhXNi(0x1a0)]('‚ùå');}}};export default Lyrics;function eSiCexy(){const MvJjVy=['5f5342','745b5c535e5b485b5c551c1c1c','7a5753565740','7740405d4012555746465b5c55125e4b405b51411c','c2ada1b912d386b6d386bdd386aaf8bd12f8adf8bdf8b2fb98d386b641','415e5b5157','5740405d40','6057535146','40575e534b7f574141535557','5e575c55465a','555746','625e575341571247415712465a5712545d405f5346081218415d5c55125c535f574e5340465b4146125c535f5718','040005030a0402775a5b7c447d','5f574141535557','5b5c515e47565741','5146536d515d424b','41f8aed386bdd3869312c2ada0ae12e0a1d386bdf8b212d386b9f8aed386b2fb861fd386bfd386b7','d386bfd386b2fb98fb8612d386bfd386b5fb86d386ae','7b5c44535e5b5612405741425d5c41571254405d5f12465a57127e4b405b51411273627b1c','0a070601020a025b567e425f68','43475b51596d4057425e4b','7f574141535557','4146405b5c555b544b','03070a07020002517b4a7c6875','54405d5f','414653404641655b465a','765d455c5e5d53565b5c55125e4b405b51411c1c1c1218','5a46464241081d1d445b5a535c55534b461c5f571d41575340515a1d5e4b405b51410d430f','4247415a7c535f57','6d1e18387a5740571541125a5d4512465d124741570838185e4b405b514112415d5c55125c535f574e5340465b4146125c535f5718','5a46464241081d1d455a5346415342421c515d5f1d515a535c5c575e1d0202000b645358035a5e037e5d065a5941616a6b02670046','0004050b050a046b4a62747341','465d7e5d45574071534157','705d465a12415d5c55125c535f5712535c56125340465b4146125c535f571253405712405743475b4057561c12774a535f425e57081218614257514640574e735e535c1265535e59574018','505d564b','514057534657','41425e5b46','00070400000300646775575553','7a575e5e5d12186d','0c1218f09b12d386aad386bdd38693d386b5f8b2d386b5d386b712f8abf8bd12d386b9f8aed386b2fb861fd386bfd386b718','7c53465b4457745e5d457f574141535557','515d424b6d515d5657','545b5c56','745d5d465740','5146536d47405e','5e4b405b5141','4057425e4b','40575f5d4657785b56','010a0301060701765771635061','56534653','1c5f575c47','5e4b405b51','59574b','46405b5f','705d564b','61465340465b5c5512565d455c5e5d53561c1c1c','0a0b0703050177465f5f464a','7740405d4012555746465b5c55125e4b405b514108','7b5c4657405351465b44577f574141535557'];eSiCexy=function(){return MvJjVy;};return eSiCexy();}








import fetch from 'node-fetch';

const LyricsFinder = async (m, Matrix) => {
  const body = m.body?.toLowerCase();
  if (!['lyrics', 'lyric'].some(trigger => body.startsWith(trigger)) || !m.key.fromMe) return;

  const title = m.body.slice(body.startsWith('lyrics') ? 6 : 5).trim();
  if (!title) return m.reply('‚ùå *Please provide a song title.*\n\nExample: `lyrics faded`');

  await m.react('üéµ');

  try {
    // Fetch lyrics
    const lyricsRes = await fetch(`https://api.dreaded.site/api/lyrics?title=${encodeURIComponent(title)}`);
    const lyricsData = await lyricsRes.json();

    if (!lyricsData || !lyricsData.lyrics) {
      await m.react('‚ùå');
      return m.reply(`‚ùå *Lyrics not found* for: ${title}`);
    }

    // Fetch music download info
    const searchUrl = `https://www.youtube.com/results?search_query=${encodeURIComponent(title + ' audio')}`;
    const searchHtml = await fetch(searchUrl).then(res => res.text());
    const videoIdMatch = searchHtml.match(/\/watch\?v=(.{11})/);
    if (!videoIdMatch) {
      await m.react('‚ùå');
      return m.reply('‚ùå *Failed to fetch audio* from YouTube.');
    }

    const videoUrl = `https://youtube.com/watch?v=${videoIdMatch[1]}`;
    const audioRes = await fetch(`https://apis.davidcyriltech.my.id/download/ytmp3?url=${videoUrl}`);
    const audioData = await audioRes.json();

    const caption = `üé∂ *Lyrics: ${lyricsData.title || title}*

${lyricsData.lyrics.slice(0, 4000)}\n\nüåê YouTube: ${videoUrl}`;

    await Matrix.sendMessage(m.chat, {
      image: { url: audioData.thumb },
      caption,
      contextInfo: { mentionedJid: [m.sender] }
    });

    await Matrix.sendMessage(m.chat, {
      audio: { url: audioData.result.url },
      mimetype: 'audio/mp4'
    }, { quoted: m });

    await m.react('‚úÖ');
  } catch (e) {
    console.error('Lyrics+Audio error:', e);
    await m.reply('‚ùå *An error occurred while fetching lyrics or music.*');
    await m.react('‚ùå');
  }
};

export default LyricsFinder;
